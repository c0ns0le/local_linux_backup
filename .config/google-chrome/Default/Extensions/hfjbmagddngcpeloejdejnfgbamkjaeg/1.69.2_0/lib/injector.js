"use strict";var VimiumInjector;(function(){function t(t){var e,n;if(!t){var o=h.lastError&&h.lastError.message,i=h.id||location.host||location.protocol;n=!!(o&&0<=o.lastIndexOf("not exist")&&h.id);if(false===t)e=": not in the white list.";else if(!n&&h.lastError)e=o?":\n\t"+o:": no backend found.";else if(3<g){e=o?":\n\t"+o:": retried but failed ("+t+").";n=false}else{setTimeout(v,200*g);g++;n=true}n||console.log("%cVimium C%c: %cfail%c to inject into %c%s%c %s","color:red","color:auto","color:red","color:auto","color:#0c85e9",i,"color:auto",e||" ("+g+" retries).")}VimiumInjector&&"function"==typeof VimiumInjector.destroy&&VimiumInjector.destroy(true);VimiumInjector={id:E,alive:0,checkIfEnabled:null,getCommandCount:null,destroy:null};var r=document.documentElement;if(!t||!r)return h.lastError;for(var c=document.contains(p)?p:(document.head||r).lastChild,s=c.nextSibling,l=c.parentElement,u=[],a=0,m=t;a<m.length;a++){var d=m[a],f=document.createElement("script");f.async=false;f.defer=true;f.src=d;l.insertBefore(f,s);u.push(f)}0<u.length&&(u[u.length-1].onload=function(){this.onload=null;for(var t=u.length;0<=--t;)u[t].remove()})}function v(){h.sendMessage(E,{handler:"content_scripts"},t)}function e(){window.removeEventListener("load",e);i?i(function(){i(function(){setTimeout(v,0)},{timeout:67})},{timeout:330}):setTimeout(v,67)}var h;h="undefined"!=typeof browser&&browser&&browser.runtime||chrome.runtime;var p=document.currentScript,n=p.src,o=n.indexOf("://")+3,E=n.substring(o,n.indexOf("/",o)),i=window.requestIdleCallback,g=1;"complete"===document.readyState?e():window.addEventListener("load",e)})();(!document.currentScript||"false"!=(document.currentScript.getAttribute("data-vimium-hooks")||"").toLowerCase())&&(function(){var t=EventTarget,e=t.prototype,i=e.addEventListener;if(true!==i.vimiumHooked){var r=HTMLAnchorElement,c=HTMLFormElement,s="function"==typeof Element?Element:HTMLElement,n=e.addEventListener=function addEventListener(t,e,n){"click"===t&&e&&!(this instanceof r||this instanceof c)&&this instanceof s&&(this.vimiumHasOnclick=true);var o=arguments.length;return 2===o?i.call(this,t,e):3===o?i.call(this,t,e,n):i.apply(this,arguments)},o=Function.prototype,l=o.toString,u=o.toString=function toString(){return l.apply(this===n?i:this===u?l:this,arguments)};n.vimiumHooked=true;t.vimiumRemoveHooks=function(){delete t.vimiumRemoveHooks;e.addEventListener===n&&(e.addEventListener=i);o.toString===u&&(o.toString=l)};n.prototype=u.prototype=void 0}})();